<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile | Authentication | Backend Project 3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .post-image-container {
            position: relative;
            overflow: hidden;
        }
        .post-image-container img {
            transition: transform 0.3s ease-in-out;
        }
        .post-image-container:hover img {
            transform: scale(1.1); /* Increase the scale on hover */
        }
    </style>
</head>
<body>
    <section class="relative pt-36 pb-24">
        <img src="https://images.pexels.com/photos/2499790/pexels-photo-2499790.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="cover-image" class="w-full blur-[2px] opacity-95 object-cover absolute top-0 left-0 z-0 h-60 ">
        <div class="w-full max-w-7xl mx-auto px-6 md:px-8">
            <div class="flex items-center justify-center relative z-10 mb-2.5">
                <img src="<%= `${user.image}` %>" alt="user-avatar-image" class="border-4 border-solid border-white rounded-full w-[256px] h-[256px] object-cover object-left-top">
            </div>
            <div class="flex flex-col sm:flex-row max-sm:gap-5 items-center justify-between mb-2">
                <ul class="flex items-center gap-5">
                    <li> <a href="javascript:;" class="flex items-center gap-2 cursor-pointer group">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M12.5 14.0902L7.5 14.0902M2.5 9.09545V14.0902C2.5 15.6976 2.5 16.5013 2.98816 17.0006C3.47631 17.5 4.26198 17.5 5.83333 17.5H14.1667C15.738 17.5 16.5237 17.5 17.0118 17.0006C17.5 16.5013 17.5 15.6976 17.5 14.0902V10.9203C17.5 9.1337 17.5 8.24039 17.1056 7.48651C16.7112 6.73262 15.9846 6.2371 14.5313 5.24606L11.849 3.41681C10.9528 2.8056 10.5046 2.5 10 2.5C9.49537 2.5 9.04725 2.80561 8.151 3.41681L3.98433 6.25832C3.25772 6.75384 2.89442 7.0016 2.69721 7.37854C2.5 7.75548 2.5 8.20214 2.5 9.09545Z"
                                    stroke="black" stroke-width="1.6" stroke-linecap="round" />
                            </svg>
                            <span class="font-medium text-base leading-7 text-gray-900">Home</span>
                        </a>
                    </li>
                    <li> <a href="/create-post" class="flex items-center gap-2 cursor-pointer group">
                            <svg xmlns="http://www.w3.org/2000/svg" width="5" height="20" viewBox="0 0 5 20"
                                fill="none">
                                <path d="M4.12567 1.13672L1 18.8633" stroke="#E5E7EB" stroke-width="1.6"
                                    stroke-linecap="round" />
                            </svg>
                            <span class="rounded-full border border-solid border-slate-400 bg-slate-200 py-3 px-4 text-sm font-semibold text-gray-900 shadow-sm shadow-transparent transition-all duration-500 hover:shadow-slate-200 hover:bg-slate-100 hover:border-slate-300">Create Posts</span>
                        </a>
                    </li>
                   
                </ul>
                <div class="flex items-center gap-4">
                    
                    <a
                        class="rounded-full border border-solid border-rose-600 bg-rose-600 py-3 px-4 text-sm font-semibold text-white whitespace-nowrap shadow-sm shadow-transparent transition-all duration-500 hover:shadow-gray-200 hover:bg-rose-700 hover:border-rose-700" href="/logout">Log Out</a>
                </div>
            </div>
            <h3 class="text-center font-manrope font-bold text-3xl leading-10 ml-1 text-gray-900 mb-3"><%= user.name %></h3>
            <div class="flex justify-center gap-6">
                <h3 class="text-center text-gray-500"><%= user.email %></h3>
                <h3 class="text-center text-gray-500">@<%=user.username %></h3>
            </div>

        </div>
    </section>

    <section class="text-gray-600 body-font">
        <div class="container px-5 py-24 mx-auto">
          <div class="flex flex-wrap w-full mb-20">
            <div class="lg:w-1/2 w-full mb-6 lg:mb-0">
              <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900">Posts</h1>
              <div class="h-1 w-20 bg-indigo-500 rounded"></div>
            </div>
          </div>
          <div class="flex flex-wrap -m-4">
            <% if(posts.length > 0){%>
                <% posts.forEach(post => { %>
                    <div class="xl:w-1/4 md:w-1/2 p-4">
                        <div class="bg-gray-100 p-6 rounded-lg post-image-container">
                            <!-- Apply zoom-out effect on hover -->
                            <img class="h-40 rounded w-full object-cover object-top  mb-6 transition-transform duration-300 transform hover:scale-110" src="<%= post.image %>" alt="content">
                            <h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font">SUBTITLE</h3>
                            <h2 class="text-lg text-gray-900 font-medium title-font mb-4"><%= post.title %></h2>
                            <p class="leading-relaxed text-base flex">
                                <% 
                                    const contentWords = post.content.split(' ');
                                    const shortenedContent = contentWords.slice(0, Math.min(contentWords.length, 13)).join(' ');
                                    %> 
                                <%= shortenedContent %>...
                                <a href="/post/<%= post._id %>" class="text-indigo-500 inline-flex items-center mt-4">Details
                                    <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12h14"></path>
                                        <path d="M12 5l7 7-7 7"></path>
                                    </svg>
                                </a>
                            </p>
                        </div>
                    </div>
                    
                <% }); %>

           <%   } else{%>
                <h3 class="ml-6 text-zinc-500 ">No Post Has Been Created Yet..</h3>
          <% } %>
            
          </div>
        </div>
    </section>
</body>
</html>